{% extends 'base.html.twig' %}

{% block title %}Client Dashboard{% endblock %}

{% block body %}
    <h1>Client Dashboard - Hello {{ app.user.firstname }}</h1>

    <div class="buttons mt-3">
        <a class="btn btn-lg btn-primary" href="{{ path('client_create_workout') }}">Create Workout</a>
    </div>

    {% if workouts|length > 0 %}
        <div class="accordion mt-3" id="accordion-workouts">
            {% for workout in workouts %}
                <div class="accordion-item">
                    <h2 class="accordion-header" id="{{ workout.id }}">
                        <button
                                class="accordion-button collapsed"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#collapse-{{ workout.id }}"
                                aria-expanded="false"
                                aria-controls="collapse-{{ workout.id }}"
                        >
                            {{ workout }}
                        </button>
                    </h2>
                    <div
                            id="collapse-{{ workout.id }}"
                            class="accordion-collapse collapse"
                            aria-labelledby="heading-{{ workout.id }}"
                            data-bs-parent="#accordion-workouts"
                    >
                        <div class="accordion-body">
                            <ul>
                                {% for component in workout.components %}
                                    <li>{{ component }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}
{% endblock %}
